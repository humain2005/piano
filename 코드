c++ ì½”ë“œ(í”¼ì•„ë…¸ ì½”ë“œ)

#include <iostream>
#include <windows.h>
#include <map>
#include <string>
// ðŸŽ¼ [1] Base class: ì•…ê¸° ì¸í„°íŽ˜ì´ìŠ¤
class Instrument {
public:
    virtual void play() const = 0; // ë‹¤í˜•ì„±ì„ ìœ„í•œ ê°€ìƒ í•¨ìˆ˜
    virtual ~Instrument() {}       // ì†Œë©¸ìžë„ ê°€ìƒìœ¼ë¡œ
};
// ðŸŽµ [2] Note í´ëž˜ìŠ¤: Instrument ìƒì†
class Note : public Instrument {
    std::string name;
    int frequency;
public:
    // ìƒì„±ìž
    Note(const std::string& n = "", int f = 0) : name(n), frequency(f) {}
    // ðŸŽ¶ [3] í•¨ìˆ˜ ì˜¤ë²„ë¡œë”© - ê¸°ë³¸ ì—°ì£¼
    void play() const override {
        if (frequency > 0) {
            std::cout << *this;
            Beep(frequency, 300);
        }
    }
    // ðŸŽ¶ [3-2] í•¨ìˆ˜ ì˜¤ë²„ë¡œë”© - ì—°ì£¼ ì‹œê°„ ì„ íƒ
    void play(int durationMs) const {
        if (frequency > 0) {
            std::cout << name << " (" << frequency << "Hz, " << durationMs << "ms)\n";
            Beep(frequency, durationMs);
        }
    }
    // ðŸŽ¤ [4] ì—°ì‚°ìž ì˜¤ë²„ë¡œë”©: << ì‚¬ìš©í•´ì„œ ìŒ ì •ë³´ ì¶œë ¥
    friend std::ostream& operator<<(std::ostream& os, const Note& n) {
        os << n.name << " (" << n.frequency << "Hz)\n";
        return os;
    }
    // ì ‘ê·¼ìž
    int getFrequency() const { return frequency; }
    std::string getName() const { return name; }
};
// ðŸ§  [5] í…œí”Œë¦¿ í•¨ìˆ˜: ì–´ë–¤ íƒ€ìž…ì´ë“  ì •ë³´ ì¶œë ¥
template<typename T>
void showInfo(const T& item) {
    std::cout << "Info: " << item << "\n";
}
int main() {
    std::map<char, Note> notes = {
        {'a', {"C", 261}}, {'s', {"D", 293}}, {'d', {"E", 329}},
        {'f', {"F", 349}}, {'g', {"G", 392}}, {'h', {"A", 440}},
        {'j', {"B", 493}}, {'k', {"C (high)", 523}}, {'l', {"D (high)", 587}}
    };
    std::cout << "== ì½˜ì†” í”¼ì•„ë…¸ ðŸŽ¹ ==\n";
    std::cout << "[a~l] ìŒ ì—°ì£¼ | [q] ì¢…ë£Œ\n";
    char key;
    while (true) {
        std::cout << "\ní‚¤ ìž…ë ¥: ";
        std::cin >> key;
        if (key == 'q') break;
        auto it = notes.find(key);
        if (it != notes.end()) {
            Instrument* instrument = &it->second; // ë‹¤í˜•ì„± ì ìš©
            instrument->play();                  // virtual í•¨ìˆ˜ í˜¸ì¶œ
            showInfo(it->second.getName());      // í…œí”Œë¦¿ í•¨ìˆ˜ ì‚¬ìš©
        }
        else {
            std::cout << "ì•Œ ìˆ˜ ì—†ëŠ” í‚¤ìž…ë‹ˆë‹¤.\n";
        }
    }
    return 0;
}
